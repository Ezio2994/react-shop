[{"C:\\Users\\EzioI\\development\\react-shop\\src\\App.jsx":"1","C:\\Users\\EzioI\\development\\react-shop\\src\\index.js":"2","C:\\Users\\EzioI\\development\\react-shop\\src\\reportWebVitals.js":"3","C:\\Users\\EzioI\\development\\react-shop\\src\\components\\NavBar\\NavBar.jsx":"4","C:\\Users\\EzioI\\development\\react-shop\\src\\containers\\Routes\\index.js":"5","C:\\Users\\EzioI\\development\\react-shop\\src\\containers\\Routes\\Routes.jsx":"6","C:\\Users\\EzioI\\development\\react-shop\\src\\containers\\DashBoard\\DashBoard.jsx":"7","C:\\Users\\EzioI\\development\\react-shop\\src\\components\\ProductCardList\\ProductCardList.jsx":"8","C:\\Users\\EzioI\\development\\react-shop\\src\\components\\ProductCard\\ProductCard.jsx":"9","C:\\Users\\EzioI\\development\\react-shop\\src\\components\\NavBar\\index.js":"10","C:\\Users\\EzioI\\development\\react-shop\\src\\firebase.js":"11","C:\\Users\\EzioI\\development\\react-shop\\src\\containers\\DashBoard\\index.js":"12","C:\\Users\\EzioI\\development\\react-shop\\src\\components\\ProductCardList\\index.js":"13","C:\\Users\\EzioI\\development\\react-shop\\src\\components\\NotFound\\NotFound.jsx":"14","C:\\Users\\EzioI\\development\\react-shop\\src\\data\\fa-library.js":"15","C:\\Users\\EzioI\\development\\react-shop\\src\\components\\NotFound\\index.js":"16","C:\\Users\\EzioI\\development\\react-shop\\src\\containers\\Favourites\\Favourites.jsx":"17","C:\\Users\\EzioI\\development\\react-shop\\src\\containers\\Cart\\Cart.jsx":"18","C:\\Users\\EzioI\\development\\react-shop\\src\\components\\CartProduct\\CartProduct.jsx":"19","C:\\Users\\EzioI\\development\\react-shop\\src\\components\\CartList\\CartList.jsx":"20","C:\\Users\\EzioI\\development\\react-shop\\src\\containers\\Favourites\\index.js":"21","C:\\Users\\EzioI\\development\\react-shop\\src\\components\\CartProduct\\index.js":"22","C:\\Users\\EzioI\\development\\react-shop\\src\\containers\\Cart\\index.js":"23"},{"size":6447,"mtime":1607728002968,"results":"24","hashOfConfig":"25"},{"size":500,"mtime":1607188604162,"results":"26","hashOfConfig":"25"},{"size":362,"mtime":1606468595180,"results":"27","hashOfConfig":"25"},{"size":701,"mtime":1607291312130,"results":"28","hashOfConfig":"25"},{"size":52,"mtime":1607189753802,"results":"29","hashOfConfig":"25"},{"size":1582,"mtime":1607725957593,"results":"30","hashOfConfig":"25"},{"size":663,"mtime":1607625607957,"results":"31","hashOfConfig":"25"},{"size":804,"mtime":1607625627186,"results":"32","hashOfConfig":"25"},{"size":2479,"mtime":1607777386030,"results":"33","hashOfConfig":"25"},{"size":55,"mtime":1607187992096,"results":"34","hashOfConfig":"25"},{"size":658,"mtime":1607251127257,"results":"35","hashOfConfig":"25"},{"size":64,"mtime":1607188065160,"results":"36","hashOfConfig":"25"},{"size":82,"mtime":1607190914160,"results":"37","hashOfConfig":"25"},{"size":186,"mtime":1607188499545,"results":"38","hashOfConfig":"25"},{"size":279,"mtime":1607250310139,"results":"39","hashOfConfig":"25"},{"size":61,"mtime":1607188499550,"results":"40","hashOfConfig":"25"},{"size":935,"mtime":1607618710192,"results":"41","hashOfConfig":"25"},{"size":2506,"mtime":1607728083988,"results":"42","hashOfConfig":"25"},{"size":1613,"mtime":1607728981669,"results":"43","hashOfConfig":"25"},{"size":791,"mtime":1607726055624,"results":"44","hashOfConfig":"25"},{"size":67,"mtime":1607275472805,"results":"45","hashOfConfig":"25"},{"size":70,"mtime":1607294268696,"results":"46","hashOfConfig":"25"},{"size":49,"mtime":1607291388137,"results":"47","hashOfConfig":"25"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50"},"41888q",{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"60"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"67","messages":"68","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"69","messages":"70","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"75"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"81"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"84"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"91","messages":"92","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"93","messages":"94","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"81"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"81"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\EzioI\\development\\react-shop\\src\\App.jsx",["103","104","105","106","107"],"import logo from \"./logo.svg\";\nimport \"./App.scss\";\nimport React, { useState, useEffect } from \"react\";\nimport NavBar from \"./components/NavBar\";\nimport Routes from \"./containers/Routes\";\nimport firebase, { provider, firestore } from \"./firebase\";\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [dataBase, setDataBase] = useState([]);\n  const [userData, setUserData] = useState([]);\n  const [userCart, setUserCart] = useState([]);\n  const [guestCart, setGuestCart] = useState([]);\n  const [userIP, setUsetIp] = useState(\"\");\n\n  const getJSON = () => {\n    fetch(\n      \"https://ipgeolocation.abstractapi.com/v1/?api_key=073d2577c8c04b7b962e16890059eea1\"\n    )\n      .then((res) => res.json())\n      .then((res) => {\n        setUsetIp(res.ip_address);\n      })\n      .then(fetchFromGuestCart)\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  useEffect(() => {\n    getJSON();\n  }, []);\n\n  const signIn = () => {\n    firebase.auth().signInWithRedirect(provider);\n  };\n\n  const signOut = () => {\n    firebase\n      .auth()\n      .signOut()\n      .then(() => {\n        setUser(null);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const getUser = () => {\n    firebase.auth().onAuthStateChanged((user) => {\n      if (user) {\n        setUser(user);\n      } else {\n        setUser(null);\n      }\n    });\n  };\n\n  useEffect(() => {\n    getUser();\n  });\n\n  const array1 = userData.map((data) => data.id);\n  const array2 = dataBase.map((data) => data.id);\n\n  const favComparison = array1.filter((value) => array2.includes(value));\n\n  const fetchFromDataBase = () => {\n    firestore\n      .collection(\"dataBase\")\n      .get()\n      .then((querySnapshot) => {\n        const currentData = querySnapshot.docs.map((doc) => doc.data());\n        setDataBase(currentData);\n      });\n  };\n\n  const fetchFromUserFav = () => {\n    firestore\n      .collection(\"users\")\n      .doc(user.uid)\n      .collection(\"favourites\")\n      .get()\n      .then((querySnapshot) => {\n        const currentData = querySnapshot.docs.map((doc) => doc.data());\n        setUserData(currentData);\n      })\n      .catch((err) => console.error(err));\n  };\n\n  const fetchFromUserCart = () => {\n    firestore\n      .collection(\"users\")\n      .doc(user.uid)\n      .collection(\"Cart\")\n      .get()\n      .then((querySnapshot) => {\n        const currentData = querySnapshot.docs.map((doc) => doc.data());\n        setUserCart(currentData);\n      })\n      .catch((err) => console.error(err));\n  };\n\n  const fetchFromGuestCart = () => {\n    firestore\n      .collection(\"guests\")\n      .doc(userIP)\n      .collection(\"Cart\")\n      .get()\n      .then((querySnapshot) => {\n        const currentData = querySnapshot.docs.map((doc) => doc.data());\n        setGuestCart(currentData);\n      })\n      .catch((err) => console.error(err));\n  };\n\n  const addToFav = (product) => {\n    firestore\n      .collection(\"users\")\n      .doc(user.uid)\n      .collection(\"favourites\")\n      .doc(product.name)\n      .set(product)\n      .then(fetchFromUserFav)\n      .catch((err) => console.log(err));\n  };\n\n  const removeFromFav = (product) => {\n    firestore\n      .collection(\"users\")\n      .doc(user.uid)\n      .collection(\"favourites\")\n      .doc(product.name)\n      .delete()\n      .then(fetchFromUserFav)\n      .catch((err) => console.error(err));\n  };\n\n  const addToCart = (product, howMany) => {\n    firestore\n      .collection(\"users\")\n      .doc(user.uid)\n      .collection(\"Cart\")\n      .doc(product.name)\n      .set({ ...product, quantityToOrder: howMany })\n      .then(fetchFromUserCart)\n      .catch((err) => console.log(err));\n  };\n\n  const addToGuestCart = (product, howMany) => {\n    firestore\n      .collection(\"guests\")\n      .doc(userIP)\n      .collection(\"Cart\")\n      .doc(product.name)\n      .set({ ...product, quantityToOrder: howMany })\n      .then(fetchFromGuestCart)\n      .catch((err) => console.log(err));\n  };\n\n  const removeFromCart = (product) => {\n    firestore\n      .collection(\"users\")\n      .doc(user.uid)\n      .collection(\"Cart\")\n      .doc(product.name)\n      .delete()\n      .then(fetchFromUserCart)\n      .catch((err) => console.error(err));\n  };\n\n  const removeFromGuestCart = (product) => {\n    firestore\n      .collection(\"guests\")\n      .doc(userIP)\n      .collection(\"Cart\")\n      .doc(product.name)\n      .delete()\n      .then(fetchFromGuestCart)\n      .catch((err) => console.error(err));\n  };\n\n  const bought = (isUser) => {\n    if (isUser) {\n      firestore\n        .collection(\"users\")\n        .doc(user.uid)\n        .collection(\"Cart\")\n        .get()\n        .then((res) => {\n          res.forEach((element) => {\n            element.ref.delete();\n          });\n        })\n        .then(fetchFromUserCart)\n        .then(fetchFromUserFav)\n        .then(setTimeout(fetchFromUserCart, 10))\n        .catch((err) => console.error(err));\n    } else {\n      console.log(\"done\");\n      firestore\n        .collection(\"guests\")\n        .doc(userIP)\n        .collection(\"Cart\")\n        .get()\n        .then((res) => {\n          res.forEach((element) => {\n            element.ref.delete();\n          });\n        })\n        // .then(fetchFromUserCart)\n        // .then(fetchFromUserFav)\n        .then(fetchFromGuestCart)\n        .then(setTimeout(fetchFromGuestCart, 10))\n        .catch((err) => console.error(err));\n    }\n  };\n\n  useEffect(() => {\n    fetchFromDataBase();\n  }, []);\n\n  useEffect(() => {\n    if (user) {\n      fetchFromUserFav();\n    }\n  }, [user]);\n\n  useEffect(() => {\n    if (user) {\n      fetchFromUserCart();\n    }\n  }, [user]);\n\n  useEffect(() => {\n    if (userIP) {\n      setInterval(fetchFromGuestCart, 10);\n    }\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <NavBar signIn={signIn} signOut={signOut} user={user} />\n      <Routes\n        user={user}\n        favComparison={favComparison}\n        addToFav={addToFav}\n        removeFromFav={removeFromFav}\n        addToCart={addToCart}\n        dataBase={dataBase}\n        setDataBase={setDataBase}\n        userData={userData}\n        userCart={userCart}\n        removeFromCart={removeFromCart}\n        bought={bought}\n        fetchFromDataBase={fetchFromDataBase}\n        addToGuestCart={addToGuestCart}\n        guestCart={guestCart}\n        fetchFromGuestCart={fetchFromGuestCart}\n        userIP={userIP}\n        getJSON={getJSON}\n        removeFromGuestCart={removeFromGuestCart}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","C:\\Users\\EzioI\\development\\react-shop\\src\\index.js",[],["108","109"],"C:\\Users\\EzioI\\development\\react-shop\\src\\reportWebVitals.js",[],["110","111"],"C:\\Users\\EzioI\\development\\react-shop\\src\\components\\NavBar\\NavBar.jsx",["112"],"import React from \"react\";\nimport styles from \"./NavBar.module.scss\";\n\nimport { Link } from \"@reach/router\"\n\nconst NavBar = (props) => {\n  const { signIn, signOut, user } = props\n\n  const signed = user ? (\n    <li onClick={signOut}>LogOut</li>\n  ) : (\n    <li onClick={signIn}>Login</li>\n  )\n\n  const favourites = user ? (\n    <Link to='favourites'>\n      <li>Favourites</li>\n    </Link>\n  ) : (\n    null\n  )\n\n  return (\n    <>\n      <nav>\n        <ul>\n          <Link to='/'>\n            <li>Home</li>\n          </Link>\n          {favourites}\n          <Link to=\"cart\">\n            <li>Cart</li>\n          </Link>\n          {signed}\n        </ul>\n      </nav>\n    </>\n  );\n};\n\nexport default NavBar;\n",["113","114"],"C:\\Users\\EzioI\\development\\react-shop\\src\\containers\\Routes\\index.js",[],"C:\\Users\\EzioI\\development\\react-shop\\src\\containers\\Routes\\Routes.jsx",[],"C:\\Users\\EzioI\\development\\react-shop\\src\\containers\\DashBoard\\DashBoard.jsx",["115","116"],"C:\\Users\\EzioI\\development\\react-shop\\src\\components\\ProductCardList\\ProductCardList.jsx",["117","118"],"C:\\Users\\EzioI\\development\\react-shop\\src\\components\\ProductCard\\ProductCard.jsx",["119","120","121"],"C:\\Users\\EzioI\\development\\react-shop\\src\\components\\NavBar\\index.js",[],"C:\\Users\\EzioI\\development\\react-shop\\src\\firebase.js",[],["122","123"],"C:\\Users\\EzioI\\development\\react-shop\\src\\containers\\DashBoard\\index.js",[],["124","125"],"C:\\Users\\EzioI\\development\\react-shop\\src\\components\\ProductCardList\\index.js",[],["126","127"],"C:\\Users\\EzioI\\development\\react-shop\\src\\components\\NotFound\\NotFound.jsx",["128"],"import React from \"react\";\nimport styles from \"./NotFound.module.scss\";\n\nconst NotFound = () => {\n  return (\n    <>\n      <p>NotFound works</p>\n    </>\n  );\n};\n\nexport default NotFound;\n","C:\\Users\\EzioI\\development\\react-shop\\src\\data\\fa-library.js",[],"C:\\Users\\EzioI\\development\\react-shop\\src\\components\\NotFound\\index.js",[],"C:\\Users\\EzioI\\development\\react-shop\\src\\containers\\Favourites\\Favourites.jsx",["129"],"C:\\Users\\EzioI\\development\\react-shop\\src\\containers\\Cart\\Cart.jsx",["130","131","132","133"],"C:\\Users\\EzioI\\development\\react-shop\\src\\components\\CartProduct\\CartProduct.jsx",["134"],"C:\\Users\\EzioI\\development\\react-shop\\src\\components\\CartList\\CartList.jsx",[],"C:\\Users\\EzioI\\development\\react-shop\\src\\containers\\Favourites\\index.js",[],"C:\\Users\\EzioI\\development\\react-shop\\src\\components\\CartProduct\\index.js",[],"C:\\Users\\EzioI\\development\\react-shop\\src\\containers\\Cart\\index.js",[],{"ruleId":"135","severity":1,"message":"136","line":1,"column":8,"nodeType":"137","messageId":"138","endLine":1,"endColumn":12},{"ruleId":"139","severity":1,"message":"140","line":32,"column":6,"nodeType":"141","endLine":32,"endColumn":8,"suggestions":"142"},{"ruleId":"139","severity":1,"message":"143","line":228,"column":6,"nodeType":"141","endLine":228,"endColumn":12,"suggestions":"144"},{"ruleId":"139","severity":1,"message":"145","line":234,"column":6,"nodeType":"141","endLine":234,"endColumn":12,"suggestions":"146"},{"ruleId":"139","severity":1,"message":"147","line":240,"column":6,"nodeType":"141","endLine":240,"endColumn":8,"suggestions":"148"},{"ruleId":"149","replacedBy":"150"},{"ruleId":"151","replacedBy":"152"},{"ruleId":"149","replacedBy":"153"},{"ruleId":"151","replacedBy":"154"},{"ruleId":"135","severity":1,"message":"155","line":2,"column":8,"nodeType":"137","messageId":"138","endLine":2,"endColumn":14},{"ruleId":"149","replacedBy":"156"},{"ruleId":"151","replacedBy":"157"},{"ruleId":"135","severity":1,"message":"155","line":2,"column":8,"nodeType":"137","messageId":"138","endLine":2,"endColumn":14},{"ruleId":"135","severity":1,"message":"158","line":4,"column":10,"nodeType":"137","messageId":"138","endLine":4,"endColumn":19},{"ruleId":"135","severity":1,"message":"159","line":1,"column":17,"nodeType":"137","messageId":"138","endLine":1,"endColumn":25},{"ruleId":"135","severity":1,"message":"160","line":1,"column":27,"nodeType":"137","messageId":"138","endLine":1,"endColumn":36},{"ruleId":"135","severity":1,"message":"160","line":1,"column":17,"nodeType":"137","messageId":"138","endLine":1,"endColumn":26},{"ruleId":"135","severity":1,"message":"161","line":3,"column":8,"nodeType":"137","messageId":"138","endLine":3,"endColumn":16},{"ruleId":"135","severity":1,"message":"162","line":17,"column":5,"nodeType":"137","messageId":"138","endLine":17,"endColumn":13},{"ruleId":"149","replacedBy":"163"},{"ruleId":"151","replacedBy":"164"},{"ruleId":"149","replacedBy":"165"},{"ruleId":"151","replacedBy":"166"},{"ruleId":"149","replacedBy":"167"},{"ruleId":"151","replacedBy":"168"},{"ruleId":"135","severity":1,"message":"155","line":2,"column":8,"nodeType":"137","messageId":"138","endLine":2,"endColumn":14},{"ruleId":"135","severity":1,"message":"155","line":2,"column":8,"nodeType":"137","messageId":"138","endLine":2,"endColumn":14},{"ruleId":"135","severity":1,"message":"155","line":2,"column":8,"nodeType":"137","messageId":"138","endLine":2,"endColumn":14},{"ruleId":"135","severity":1,"message":"169","line":3,"column":8,"nodeType":"137","messageId":"138","endLine":3,"endColumn":16},{"ruleId":"135","severity":1,"message":"170","line":18,"column":5,"nodeType":"137","messageId":"138","endLine":18,"endColumn":12},{"ruleId":"139","severity":1,"message":"171","line":72,"column":6,"nodeType":"141","endLine":72,"endColumn":14,"suggestions":"172"},{"ruleId":"139","severity":1,"message":"173","line":23,"column":6,"nodeType":"141","endLine":23,"endColumn":8,"suggestions":"174"},"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getJSON'. Either include it or remove the dependency array.","ArrayExpression",["175"],"React Hook useEffect has a missing dependency: 'fetchFromUserFav'. Either include it or remove the dependency array.",["176"],"React Hook useEffect has a missing dependency: 'fetchFromUserCart'. Either include it or remove the dependency array.",["177"],"React Hook useEffect has missing dependencies: 'fetchFromGuestCart' and 'userIP'. Either include them or remove the dependency array.",["178"],"no-native-reassign",["179"],"no-negated-in-lhs",["180"],["179"],["180"],"'styles' is defined but never used.",["179"],["180"],"'firestore' is defined but never used.","'useState' is defined but never used.","'useEffect' is defined but never used.","'NotFound' is defined but never used.","'category' is assigned a value but never used.",["179"],["180"],["179"],["180"],["179"],["180"],"'firebase' is defined but never used.","'getJSON' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'fetchFromGuestCart'. Either include it or remove the dependency array.",["181"],"React Hook useEffect has a missing dependency: 'getTotal'. Either include it or remove the dependency array.",["182"],{"desc":"183","fix":"184"},{"desc":"185","fix":"186"},{"desc":"187","fix":"188"},{"desc":"189","fix":"190"},"no-global-assign","no-unsafe-negation",{"desc":"189","fix":"191"},{"desc":"192","fix":"193"},"Update the dependencies array to be: [getJSON]",{"range":"194","text":"195"},"Update the dependencies array to be: [fetchFromUserFav, user]",{"range":"196","text":"197"},"Update the dependencies array to be: [fetchFromUserCart, user]",{"range":"198","text":"199"},"Update the dependencies array to be: [fetchFromGuestCart, userIP]",{"range":"200","text":"201"},{"range":"202","text":"201"},"Update the dependencies array to be: [getTotal]",{"range":"203","text":"204"},[919,921],"[getJSON]",[5493,5499],"[fetchFromUserFav, user]",[5577,5583],"[fetchFromUserCart, user]",[5679,5681],"[fetchFromGuestCart, userIP]",[1905,1913],[470,472],"[getTotal]"]